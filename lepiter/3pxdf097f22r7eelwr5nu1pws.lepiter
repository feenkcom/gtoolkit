{
	"__schema" : "4.1",
	"__type" : "page",
	"children" : {
		"__type" : "snippets",
		"items" : [
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-14T16:41:14.683272+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2025-02-24T18:34:30.096154+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "wmMuWDzXDQCd9ji3CVHTcA=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "OpenAI publishes [tiktoken](https://github.com/openai/tiktoken), an open-source Python library that tokenizes input strings as it is done internally for their product. This is useful for estimating costs as well as ensuring inputs stay within certain limits (context windows etc.). `gt4openai` also relies on this library internally, for instance to estimate the cost of {{gtPage:Creating a fine-tuned model|label=a fine-tuning job}}."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "pharoSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-06-23T09:03:11.872925+02:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-06-23T09:03:13.497675+02:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "BVKm/urXDQCfd9XPC8IszQ=="
							},
							"code" : "PBApplication isRunning ifFalse: [ PBApplication start ].\rPBApplication uniqueInstance installModule: 'gtoolkit_tiktokenize'"
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-23T09:01:13.907477+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-23T09:04:12.891642+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "4FOe9+rXDQCaGm2UC8IszQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "To evaluate the result of tokenizing with various models, you can work directly with the tiktoken library. But you can also work with a small wrapper we created that helps us visualize the results. To this end, first install the `gtoolkit_tiktokenize` module:"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "pythonSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-06-23T08:56:50.121966+02:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-06-24T13:19:07.095688+02:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "PUPl5+rXDQCS9cS2C8IszQ=="
							},
							"code" : "import gtoolkit_tiktokenize\r\rmodel = \"gpt-4\"\rstring = \"<|im_start|>system<|im_sep|>You are a helpful assistant<|im_end|><|im_start|>assistant<|im_sep|>How can I help you?<|im_end|><|im_start|>user<|im_sep|>Can you add two and two for me?<|im_end|>\"\rgtoolkit_tiktokenize.tokenize(string, model)"
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-23T09:04:16.249409+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-23T09:04:27.772509+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "aqd8AuvXDQCjHQm1C8IszQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "And then just execute the Python script:"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "pharoSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "veit.heller@feenk.com"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-06-13T18:25:27.322525+02:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-06-23T12:50:08.308142+02:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "Qa4GrynXDQCAx6iDBs9aqQ=="
							},
							"code" : "GtLlmTokenizer new\r\ttokenizeMessages: {GtLlmSystemMessage new content: 'You are a helpful assistant'.\r\t\t\tGtLlmAssistantMessage new content: 'How can I help you?'.\r\t\t\tGtLlmUserMessage new content: 'Can you add two and two for me?'}\r\tusingModel: 'gpt-4'"
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-23T08:59:31.372609+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-23T09:13:54.281586+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "KMSB8erXDQCYmJU/C8IszQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "The equivalent in Pharo code is as follows:"
			}
		]
	},
	"createEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"createTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2024-06-14T16:41:11.602232+02:00"
		}
	},
	"editEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"editTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2024-06-14T16:41:11.602232+02:00"
		}
	},
	"pageType" : {
		"__type" : "namedPage",
		"title" : "Visualizing tokenization"
	},
	"uid" : {
		"__type" : "uuid",
		"uuid" : "6ce3869d-24d7-0d00-837b-3e7806acd63e"
	}
}